<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Louisa & Damon's Wedding</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <!-- Floating Leaves -->
    <div class="parallax-leaves">
        <img src="images/leaf-1.png" alt="Floating Leaf" class="floating-leaf leaf-1" data-speed="0.3">
        <img src="images/leaf-2.png" alt="Floating Leaf" class="floating-leaf leaf-2" data-speed="0.5">
        <img src="images/leaf-3.png" alt="Floating Leaf" class="floating-leaf leaf-3" data-speed="0.4" data-trigger="ceremony" data-fade-out="details">
        <img src="images/leaf-4.png" alt="Floating Leaf" class="floating-leaf leaf-4" data-speed="0.6" data-trigger="ceremony" data-fade-out="details">
    </div>

    <div class="hero">
        <img src="images/floral-top-left.png" alt="Floral Wreath" class="floral-top-left">
        <img src="images/floral-top-right.png" alt="Floral Wreath" class="floral-top-right">
        <div class="container text-center">
            <h1 class="save-date">HE WEDDING O</h1>
            <h2 class="names">LOUISA <span class="and">and</span> DAMON</h2>
            <p class="wedding-date">18.07.2026</p>
            <p class="wedding-venue-1">FITZLEROI BARN</p>
            <p class="wedding-venue-2">FITTLEWORTH</p>
            <div class="floral-divider"></div>
        </div>
    </div>

    <!-- Desktop Menu -->
    <nav class="navbar sticky-top navbar-expand-lg d-none d-lg-block">
        <div class="container">
            <div class="collapse navbar-collapse show">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item"><a class="nav-link" href="#ceremony">Ceremony</a></li>
                    <li class="nav-item"><a class="nav-link" href="#order-of-day">Order of the Day</a></li>
                    <li class="nav-item"><a class="nav-link" href="#details">Where to Stay</a></li>
                    <li class="nav-item"><a class="nav-link" href="#day-after">The Day After</a></li>
                    <li class="nav-item"><a class="nav-link" href="#rsvp">RSVP</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <section id="ceremony" class="section-padding">
        <div class="container">
            <h2 class="section-title">CEREMONY</h2>
        </div>
        <div class="container">
            <div class="row justify-content-center align-items-center">
                <div class="col-md-5 text-center mb-4 mb-md-0">
                    <img src="images/haybales.png" alt="Wedding Details" class="img-fluid" style="max-width: 300px; height: auto; border-radius: 15px;">
                </div>
                <div class="col-md-7">
                    <div class="ceremony-info" style="padding: 2rem;">                        
                        <div class="detail-item" style="margin-bottom: 1.2rem;">
                            <strong style="color: var(--dark-green); font-size: 1.1rem;">Date & Time:</strong>
                            <p style="margin: 0.3rem 0 0 0; font-size: 1rem; line-height: 1.5;">Saturday, 18th July 2025 – 12:15pm</p>
                        </div>
                                                
                        <div class="detail-item" style="margin-bottom: 1.2rem;">
                            <strong style="color: var(--dark-green); font-size: 1.1rem;">Parking:</strong>
                            <p style="margin: 0.3rem 0 0 0; font-size: 1rem; line-height: 1.5;">Available on site, with directions on arrival</p>
                        </div>
                        
                        <div class="detail-item" style="margin-bottom: 1.2rem;">
                            <strong style="color: var(--dark-green); font-size: 1.1rem;">Procession:</strong>
                            <p style="margin: 0.3rem 0 0 0; font-size: 1rem; line-height: 1.5;">Guests will be guided from the courtyard to the meadow for the ceremony</p>
                        </div>

                        <div class="detail-item" style="margin-bottom: 1.2rem;">
                            <strong style="color: var(--dark-green); font-size: 1.1rem;">Hydration:</strong>
                            <p style="margin: 0.3rem 0 0 0; font-size: 1rem; line-height: 1.5;">Bring water to stay hydrated — fainting is dramatic, but we'd rather you saved that for the dance floor.</p>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="order-of-day" class="section-padding bg-light">
        <div class="container">
            <h2 class="section-title">ORDER OF THE DAY</h2>
            <div class="row justify-content-center">
                <div class="col-md-10 col-lg-8">
                    <p class="text-center mb-5">Here's how the day will unfold. We can't wait to celebrate with you!</p>
                    
                    <div class="vertical-timeline">
                        <!-- Timeline Item 1 -->
                        <div class="timeline-item" data-time="12:30">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <img src="images/welcome-sign.png" alt="Guests Arrive" class="timeline-image">
                                <div class="timeline-text">
                                    <h3 class="timeline-time">12:15</h3>
                                    <h4 class="timeline-title">GUESTS<br>ARRIVE</h4>
                                </div>
                            </div>
                        </div>

                        <!-- Timeline Item 2 -->
                        <div class="timeline-item" data-time="13:00">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <img src="images/rings.png" alt="We Say I Do" class="timeline-image">
                                <div class="timeline-text">
                                    <h3 class="timeline-time">13:00</h3>
                                    <h4 class="timeline-title">WE SAY "I DO"</h4>
                                </div>
                            </div>
                        </div>

                        <!-- Timeline Item 3 -->
                        <div class="timeline-item" data-time="13:30">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <img src="images/drinks.png" alt="Cocktails & Canapés" class="timeline-image">
                                <div class="timeline-text">
                                    <h3 class="timeline-time">13:30</h3>
                                    <h4 class="timeline-title">DRINKS<br>RECEPTION</h4>
                                </div>
                            </div>
                        </div>

                        <!-- Timeline Item 4 -->
                        <div class="timeline-item" data-time="14:00">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <img src="images/camera.png" alt="Strike a Pose" class="timeline-image">
                                <div class="timeline-text">
                                    <h3 class="timeline-time">14:00</h3>
                                    <h4 class="timeline-title">STRIKE A POSE</h4>
                                </div>
                            </div>
                        </div>

                        <!-- Timeline Item 5 -->
                        <div class="timeline-item" data-time="16:00">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <img src="images/plate.png" alt="Wedding Breakfast" class="timeline-image">
                                <div class="timeline-text">
                                    <h3 class="timeline-time">16:00</h3>
                                    <h4 class="timeline-title">WEDDING<br>BREAKFAST</h4>
                                </div>
                            </div>
                        </div>

                        <!-- Timeline Item 6 -->
                        <div class="timeline-item" data-time="19:30">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <img src="images/guitars.png" alt="Let's Dance" class="timeline-image">
                                <div class="timeline-text">
                                    <h3 class="timeline-time">19:00</h3>
                                    <h4 class="timeline-title">LET'S DANCE</h4>
                                </div>
                            </div>
                        </div>

                        <!-- Timeline Item 7 -->
                        <div class="timeline-item" data-time="00:00">
                            <div class="timeline-point"></div>
                            <div class="timeline-content">
                                <img src="images/carriages.png" alt="Midnight Carriages" class="timeline-image">
                                <div class="timeline-text">
                                    <h3 class="timeline-time">00:00</h3>
                                    <h4 class="timeline-title">MIDNIGHT<br>CARRIAGES</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="details" class="section-padding bg-light">
        <div class="container">
            <h2 class="section-title">WHERE TO STAY</h2>
            <div class="row accommodations justify-content-center align-items-center">
                <div class="col-md-10">
             <p class="text-center mb-4">Here's our pick of some lovely local places to stay near the wedding.</p>
             <p class="text-center mb-4">We've chosen them for their charm, comfort, and convenience. We'd really encourage you to book as soon as you can, as accommodation tends to fill up quickly. That said, there are plenty of other options in the surrounding area, so do have a look around if you prefer something different.</p>
                         <p class="text-center mt-4">If you're looking to book nearby accommodation, a friend of ours runs a business that can often get great rates at local inns and hotels. If you'd like to see what she can find, just get in touch with her at <a href="mailto:hannah@bonvoyageholidays.co.uk">hannah@bonvoyageholidays.co.uk</a>.</p>
   
             <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="accommodation-card">
                                <img src="images/swan-inn.png" alt="The Swan Inn" class="img-fluid mb-3">
                                <h3>The Swan Inn</h3>
                                <p class="location">@ Fittleworth</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="accommodation-card">
                                <img src="images/badgers-cottage.png" alt="Badgers Cottage" class="img-fluid mb-3">
                                <h3>Badgers Cottage</h3>
                                <p class="location">@ Fittleworth</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="accommodation-card">
                                <img src="images/angel-inn.png" alt="The Angel Inn" class="img-fluid mb-3">
                                <h3>The Angel Inn</h3>
                                <p class="location">@ Petworth</p>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="accommodation-card">
                                <img src="images/horse-guards.png" alt="The Horse Guards Inn" class="img-fluid mb-3">
                                <h3>The Horse Guards Inn</h3>
                                <p class="location">@ Tillington</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="accommodation-card">
                                <img src="images/halfway-bridge.png" alt="The Halfway Bridge Inn" class="img-fluid mb-3">
                                <h3>The Halfway Bridge Inn</h3>
                                <p class="location">@ Lodsworth</p>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="accommodation-card">
                                <img src="images/spread-eagle.png" alt="The Spread Eagle" class="img-fluid mb-3">
                                <h3>The Spread Eagle</h3>
                                <p class="location">@ Midhurst</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="day-after" class="section-padding">
        <div class="container">
            <h2 class="section-title">THE DAY AFTER</h2>

                        <div class="row justify-content-center align-items-center">
                <div class="col-md-12 text-center mb-4 mb-md-0">
                    <img src="images/welldiggers.png" alt="Wedding Details" class="img-fluid" style="max-width: 300px; height: auto; border-radius: 15px;">
                </div>
                <div class="col-md-7 text-center">
                    <h3 class="mb-4">Join Us for a Relaxed Sunday</h3>
                </div>
            </div>

            <div class="row justify-content-center">
                <div class="col-md-8 text-center">
                    <p class="mb-4">If you'd like to continue the celebrations with us, or just in need of a good hair of the dog, join us for a relaxed Sunday gathering at The Welldiggers Arms, just 5 minutes from the venue.</p>
                    <p class="mb-4">We'll be there from midday. With countryside views over the South Downs, there will be food and wine available to purchase from the bar.</p>
                    <p class="mb-4">While Saturday is a grown-ups-only affair (except for our close family's children), you're welcome to bring your little ones along to join us on Sunday.</p>
                    <div class="pub-details mt-5">
                        <h3>How to Find the Pub</h3>
                        <p>You'll find The Welldiggers Arms just off the A283, about a mile east of Petworth.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="rsvp" class="section-padding">
        <div class="container">
            <h2 class="section-title">RSVP</h2>
            <div class="row justify-content-center">
                <div class="col-md-8 text-center">
                    <h3 class="mb-4">Skip the Stamps!</h3>
                    <div class="rsvp-details mt-4">
                        <p class="deadline">Kindly reply by Friday 31st October 2025.</p>
                        
                        <form id="rsvp-form" class="rsvp-form mt-5 text-start">
                            <div class="mb-4">
                                <label class="form-label">Are you attending?</label>
                                <div class="attendance-buttons">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="attending-yes" name="attending" value="true" required checked>
                                        <label class="form-check-label" for="attending-yes">
                                            Yes, we're coming!
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" id="attending-no" name="attending" value="false" required>
                                        <label class="form-check-label" for="attending-no">
                                            Sorry, we can't make it
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-4" id="event-selection" style="display: block;">
                                <label class="form-label">Which events will you attend?</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="attending-saturday" name="events[]" value="saturday">
                                    <label class="form-check-label" for="attending-saturday">
                                        Saturday (Wedding Ceremony & Reception)
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="attending-sunday" name="events[]" value="sunday">
                                    <label class="form-check-label" for="attending-sunday">
                                        Sunday (Day After Gathering)
                                    </label>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="party-size" class="form-label">How many people will be in your party?</label>
                                <select class="form-select" id="party-size" name="party-size" required>
                                    <option value="">Select number of people</option>
                                    <option value="1">1 person</option>
                                    <option value="2">2 people</option>
                                    <option value="3">3 people</option>
                                    <option value="4">4 people</option>
                                    <option value="5">5 people</option>
                                    <option value="6">6 people</option>
                                    <option value="7">3 people</option>
                                    <option value="8">4 people</option>
                                    <option value="9">9 people</option>
                                    <option value="10">10 people</option>                
                                </select>
                            </div>

                            <div class="people-details">
                                <h5 class="mb-3">Guest Details</h5>
                                <div class="person-container">
                                    <div class="person-entry mb-4 p-3 border rounded">
                                        <h6>Person 1</h6>
                                        <div class="row">
                                            <div class="col-md-6 mb-3 p-0 mr-1">
                                                <label class="form-label">First Name</label>
                                                <input type="text" class="form-control" name="person-1-firstname" required>
                                            </div>
                                            <div class="col-md-6 mb-3 pl-1">
                                                <label class="form-label">Last Name</label>
                                                <input type="text" class="form-control" name="person-1-lastname" required>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Email</label>
                                            <input type="email" class="form-control" name="person-1-email" required>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Dietary Requirements</label>
                                            <textarea class="form-control" name="person-1-dietary" rows="2" placeholder="Please specify any dietary requirements or allergies"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-secondary mb-4" id="add-person">
                                    <i class="fas fa-plus"></i> Add Another Person
                                </button>
                            </div>

                            <div class="mb-4">
                                <label for="additional-notes" class="form-label">Additional Notes or Questions</label>
                                <textarea class="form-control" id="additional-notes" name="additional-notes" rows="3" placeholder="Anything else you'd like us to know?"></textarea>
                            </div>

                            <div class="text-center">
                                <button type="submit" class="btn btn-primary btn-lg">Send RSVP</button>
                            </div>
                        </form>
                        
                        <div class="mt-4">
                            <p>Or email us directly at louisaanddamon@gmail.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container text-center">
            <p class="footer-note">We can't wait to celebrate with you!</p>
            <p class="names">Louisa & Damon</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/main.js"></script>
                        const personEntries = document.querySelectorAll('.person-entry');
                        const guests = [];
                        personEntries.forEach((entry, idx) => {
                            const firstName = entry.querySelector('input[name^="person-"][name$="-firstname"]').value;
                            const lastName = entry.querySelector('input[name^="person-"][name$="-lastname"]').value;
                            const email = entry.querySelector('input[name^="person-"][name$="-email"]').value;
                            const dietary = entry.querySelector('textarea[name^="person-"][name$="-dietary"]').value;
                            guests.push({ first_name: firstName, last_name: lastName, email, dietary });
                        });
                        console.log('Guests:', guests);

                        // Prepare rows for Supabase
                        const rows = guests.map(guest => ({
                            attending,
                            events,
                            party_size: partySize,
                            first_name: guest.first_name,
                            last_name: guest.last_name,
                            email: guest.email,
                            dietary: guest.dietary,
                            additional_notes: additionalNotes
                        }));
                        console.log('Rows to insert:', rows);

                        // Insert each guest as a separate row
                        let error = null;
                        for (const row of rows) {
                            console.log('Inserting row:', row);
                            const { error: insertError } = await supabase.from('rsvp').insert([row]);
                            if (insertError) {
                                console.error('Insert error:', insertError);
                                error = insertError;
                                break;
                            } else {
                                console.log('Insert success for row:', row);
                            }
                        }

                        if (error) {
                            alert('Submission failed: ' + error.message);
                        } else {
                            alert('RSVP submitted successfully!');
                            this.reset();
                        }
            });
    </script>
</body>
</html>
